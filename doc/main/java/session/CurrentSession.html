<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (11.0.8) on Sun Feb 06 22:13:40 CET 2022 -->
<title>CurrentSession</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-02-06">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CurrentSession";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":9,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">main.java.session</a></div>
<h2 title="Class CurrentSession" class="title">Class CurrentSession</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>main.java.session.CurrentSession</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">CurrentSession</span>
extends java.lang.Object</pre>
<div class="block">Abre una sesión que incluye al usuario que ejecuta la aplicación, el centro de trabajo
 al que está vinculado, y la empresa a la que pertenece dicho centro de trabajo. Contiene
 toda la información que las distintas partes del programa necesitan conocer para realizar
 sus funciones correctamente. Solo existe una única instancia de esta clase (patrón singleton)
 
 Consulta periódicamente la base de datos para detectar cambios en su contenido. Recarga la
 nueva información si existe, y almacena en un LinkedHashMap una referencia a las tablas
 que se han actualizado. Esto permite a las clases que muestran la información en pantalla
 el poder actualizarla de manera automática.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Alfred Tomey</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="CurrentSession.TimerJob.html" title="class in main.java.session">CurrentSession.TimerJob</a></span></code></th>
<td class="colLast">
<div class="block">Clase que realiza la comprobación de las tablas que se han actualizado
 con posterioridad a la última carga de datos de la sesión en curso</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#alertShown">alertShown</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bUnit">bUnit</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../company/Company.html" title="class in main.java.company">Company</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#company">company</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#connection">connection</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.awt.GraphicsDevice</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentDisplay">currentDisplay</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.sql.Timestamp</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#dateTimeReference">dateTimeReference</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.awt.GraphicsDevice[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#displays">displays</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLocked">isLocked</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private javax.swing.Action</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#logOutAction">logOutAction</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#period">period</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="CurrentSession.html" title="class in main.java.session">CurrentSession</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#session">session</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.Timer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#timer">timer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updatedTables">updatedTables</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../company/User.html" title="class in main.java.company">User</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#user">user</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#usersUpdated">usersUpdated</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">CurrentSession</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#backToLogin(java.lang.String,java.awt.GraphicsDevice%5B%5D,java.awt.GraphicsDevice)">backToLogin</a></span>&#8203;(java.lang.String&nbsp;tableName,
           java.awt.GraphicsDevice[]&nbsp;displays,
           java.awt.GraphicsDevice&nbsp;currentDisplay)</code></th>
<td class="colLast">
<div class="block">Devuelve el programa a la pantalla de login si el usuario que abrió sesión ha sido desactivado por otro
 usuario desde otra sesión.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getbUnit()">getbUnit</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../company/Company.html" title="class in main.java.company">Company</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCompany()">getCompany</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.sql.Connection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConnection()">getConnection</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.awt.GraphicsDevice</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentDisplay()">getCurrentDisplay</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.sql.Timestamp</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDateTimeReference()">getDateTimeReference</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.awt.GraphicsDevice[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDisplays()">getDisplays</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEventStates()">getEventStates</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="CurrentSession.html" title="class in main.java.session">CurrentSession</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstance()">getInstance</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>javax.swing.Action</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLogOutAction()">getLogOutAction</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPeriod()">getPeriod</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.Timer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTimer()">getTimer</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUpdatedTables()">getUpdatedTables</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="../company/User.html" title="class in main.java.company">User</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUser()">getUser</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAlertShown()">isAlertShown</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLocked()">isLocked</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUsersUpdated()">isUsersUpdated</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loadAllData(java.sql.Connection,int,int)">loadAllData</a></span>&#8203;(java.sql.Connection&nbsp;conn,
           int&nbsp;bUnitId,
           int&nbsp;userId)</code></th>
<td class="colLast">
<div class="block">Carga todos los datos de la base de datos.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loadCurrentSessionData(java.sql.Connection,int,int)">loadCurrentSessionData</a></span>&#8203;(java.sql.Connection&nbsp;conn,
                      int&nbsp;bUnitId,
                      int&nbsp;userId)</code></th>
<td class="colLast">
<div class="block">Carga los datos de la unidad de negocio a la que pertenece el usuario
 que abre la sesión.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#loadTypesStates(java.sql.Connection)">loadTypesStates</a></span>&#8203;(java.sql.Connection&nbsp;conn)</code></th>
<td class="colLast">
<div class="block">Carga los tipos de usuarios, tipos de eventos y estados de eventos almacenados en la base
 de datos, y los agrupa en un objeto contenedor TypesStatesContainer</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAlertShown(boolean)">setAlertShown</a></span>&#8203;(boolean&nbsp;alertShown)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setbUnit(main.java.company.BusinessUnit)">setbUnit</a></span>&#8203;(<a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a>&nbsp;bUnit)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCompany(main.java.company.Company)">setCompany</a></span>&#8203;(<a href="../company/Company.html" title="class in main.java.company">Company</a>&nbsp;company)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setConnection(java.sql.Connection)">setConnection</a></span>&#8203;(java.sql.Connection&nbsp;connection)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setCurrentDisplay(java.awt.GraphicsDevice)">setCurrentDisplay</a></span>&#8203;(java.awt.GraphicsDevice&nbsp;currentDisplay)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDateTimeReference(java.sql.Timestamp)">setDateTimeReference</a></span>&#8203;(java.sql.Timestamp&nbsp;dateTimeReference)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDisplays(java.awt.GraphicsDevice%5B%5D)">setDisplays</a></span>&#8203;(java.awt.GraphicsDevice[]&nbsp;displays)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setEventStates(java.util.Map)">setEventStates</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;eventStates)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLogOutAction(javax.swing.Action)">setLogOutAction</a></span>&#8203;(javax.swing.Action&nbsp;logOutAction)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUpdatedTables(java.util.Map)">setUpdatedTables</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;updatedTables)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUser(main.java.company.User)">setUser</a></span>&#8203;(<a href="../company/User.html" title="class in main.java.company">User</a>&nbsp;user)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUsersUpdated(boolean)">setUsersUpdated</a></span>&#8203;(boolean&nbsp;usersUpdated)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="session">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>session</h4>
<pre>private static&nbsp;<a href="CurrentSession.html" title="class in main.java.session">CurrentSession</a> session</pre>
</li>
</ul>
<a id="user">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>user</h4>
<pre>private&nbsp;<a href="../company/User.html" title="class in main.java.company">User</a> user</pre>
</li>
</ul>
<a id="bUnit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bUnit</h4>
<pre>private&nbsp;<a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a> bUnit</pre>
</li>
</ul>
<a id="company">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>company</h4>
<pre>private&nbsp;<a href="../company/Company.html" title="class in main.java.company">Company</a> company</pre>
</li>
</ul>
<a id="connection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connection</h4>
<pre>private&nbsp;java.sql.Connection connection</pre>
</li>
</ul>
<a id="timer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>timer</h4>
<pre>private&nbsp;java.util.Timer timer</pre>
</li>
</ul>
<a id="period">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>period</h4>
<pre>private&nbsp;long period</pre>
</li>
</ul>
<a id="logOutAction">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logOutAction</h4>
<pre>private&nbsp;javax.swing.Action logOutAction</pre>
</li>
</ul>
<a id="dateTimeReference">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dateTimeReference</h4>
<pre>private volatile&nbsp;java.sql.Timestamp dateTimeReference</pre>
</li>
</ul>
<a id="updatedTables">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatedTables</h4>
<pre>private volatile&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt; updatedTables</pre>
</li>
</ul>
<a id="isLocked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>private volatile&nbsp;boolean isLocked</pre>
</li>
</ul>
<a id="usersUpdated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>usersUpdated</h4>
<pre>private volatile&nbsp;boolean usersUpdated</pre>
</li>
</ul>
<a id="displays">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>displays</h4>
<pre>private&nbsp;java.awt.GraphicsDevice[] displays</pre>
</li>
</ul>
<a id="currentDisplay">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentDisplay</h4>
<pre>private&nbsp;java.awt.GraphicsDevice currentDisplay</pre>
</li>
</ul>
<a id="alertShown">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>alertShown</h4>
<pre>private&nbsp;boolean alertShown</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CurrentSession</h4>
<pre>private&nbsp;CurrentSession()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre class="methodSignature">public static&nbsp;<a href="CurrentSession.html" title="class in main.java.session">CurrentSession</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a id="loadAllData(java.sql.Connection,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadAllData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;loadAllData&#8203;(java.sql.Connection&nbsp;conn,
                        int&nbsp;bUnitId,
                        int&nbsp;userId)</pre>
<div class="block">Carga todos los datos de la base de datos. La compañía, la unidad de negocio
 y el usuario se almacenan en los atributos de la clase</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conn</code> - conexión con la base de datos</dd>
<dd><code>bUnitId</code> - unidad de negocio a la que pertenece el usuario
 que identificamos con el parámetro userId</dd>
<dd><code>userId</code> - id del usuario. Será un usuario administrador,
 ya que es el único tipo de usuario que tiene acceso a los datos
 de todas las unidades de negocio</dd>
</dl>
</li>
</ul>
<a id="loadCurrentSessionData(java.sql.Connection,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadCurrentSessionData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;loadCurrentSessionData&#8203;(java.sql.Connection&nbsp;conn,
                                   int&nbsp;bUnitId,
                                   int&nbsp;userId)</pre>
<div class="block">Carga los datos de la unidad de negocio a la que pertenece el usuario
 que abre la sesión. La compañía, la unidad de negocio y el usuario
 se almacenan en los atributos de la clase</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conn</code> - conexión con la base de datos</dd>
<dd><code>bUnitId</code> - id de la unidad de negocio</dd>
<dd><code>userId</code> - id del usuario que abre la sesión</dd>
</dl>
</li>
</ul>
<a id="loadTypesStates(java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadTypesStates</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;loadTypesStates&#8203;(java.sql.Connection&nbsp;conn)</pre>
<div class="block">Carga los tipos de usuarios, tipos de eventos y estados de eventos almacenados en la base
 de datos, y los agrupa en un objeto contenedor TypesStatesContainer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conn</code> - conexión con la base de datos</dd>
</dl>
</li>
</ul>
<a id="backToLogin(java.lang.String,java.awt.GraphicsDevice[],java.awt.GraphicsDevice)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backToLogin</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;backToLogin&#8203;(java.lang.String&nbsp;tableName,
                        java.awt.GraphicsDevice[]&nbsp;displays,
                        java.awt.GraphicsDevice&nbsp;currentDisplay)</pre>
<div class="block">Devuelve el programa a la pantalla de login si el usuario que abrió sesión ha sido desactivado por otro
 usuario desde otra sesión. Se mostrará un mensaje informativo antes de cerrar la sesión local. El usuario
 que abrió sesión ya no podrá hacer login de nuevo hasta que no sea reactivado por algún administrador.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tableName</code> - origen de la desactivación del usuario, bien sea por la desactivación de la unidad de negocio
 a la que pertenece o por la desactivación directa del usuario</dd>
<dd><code>displays</code> - lista de monitores del sistema</dd>
<dd><code>currentDisplay</code> - monitor en el que se está ejecutando la aplicación</dd>
</dl>
</li>
</ul>
<a id="getCompany()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompany</h4>
<pre class="methodSignature">public&nbsp;<a href="../company/Company.html" title="class in main.java.company">Company</a>&nbsp;getCompany()</pre>
</li>
</ul>
<a id="setCompany(main.java.company.Company)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCompany</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCompany&#8203;(<a href="../company/Company.html" title="class in main.java.company">Company</a>&nbsp;company)</pre>
</li>
</ul>
<a id="getbUnit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getbUnit</h4>
<pre class="methodSignature">public&nbsp;<a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a>&nbsp;getbUnit()</pre>
</li>
</ul>
<a id="setbUnit(main.java.company.BusinessUnit)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setbUnit</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setbUnit&#8203;(<a href="../company/BusinessUnit.html" title="class in main.java.company">BusinessUnit</a>&nbsp;bUnit)</pre>
</li>
</ul>
<a id="getUser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUser</h4>
<pre class="methodSignature">public&nbsp;<a href="../company/User.html" title="class in main.java.company">User</a>&nbsp;getUser()</pre>
</li>
</ul>
<a id="setUser(main.java.company.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUser</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUser&#8203;(<a href="../company/User.html" title="class in main.java.company">User</a>&nbsp;user)</pre>
</li>
</ul>
<a id="getDateTimeReference()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDateTimeReference</h4>
<pre class="methodSignature">public&nbsp;java.sql.Timestamp&nbsp;getDateTimeReference()</pre>
</li>
</ul>
<a id="setDateTimeReference(java.sql.Timestamp)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDateTimeReference</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDateTimeReference&#8203;(java.sql.Timestamp&nbsp;dateTimeReference)</pre>
</li>
</ul>
<a id="getConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnection</h4>
<pre class="methodSignature">public&nbsp;java.sql.Connection&nbsp;getConnection()</pre>
</li>
</ul>
<a id="setConnection(java.sql.Connection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setConnection</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setConnection&#8203;(java.sql.Connection&nbsp;connection)</pre>
</li>
</ul>
<a id="getTimer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimer</h4>
<pre class="methodSignature">public&nbsp;java.util.Timer&nbsp;getTimer()</pre>
</li>
</ul>
<a id="getLogOutAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogOutAction</h4>
<pre class="methodSignature">public&nbsp;javax.swing.Action&nbsp;getLogOutAction()</pre>
</li>
</ul>
<a id="setLogOutAction(javax.swing.Action)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLogOutAction</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setLogOutAction&#8203;(javax.swing.Action&nbsp;logOutAction)</pre>
</li>
</ul>
<a id="getEventStates()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEventStates</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;getEventStates()</pre>
</li>
</ul>
<a id="setEventStates(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEventStates</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setEventStates&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;eventStates)</pre>
</li>
</ul>
<a id="getUpdatedTables()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdatedTables</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;getUpdatedTables()</pre>
</li>
</ul>
<a id="setUpdatedTables(java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUpdatedTables</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUpdatedTables&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.sql.Timestamp&gt;&nbsp;updatedTables)</pre>
</li>
</ul>
<a id="isUsersUpdated()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUsersUpdated</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUsersUpdated()</pre>
</li>
</ul>
<a id="setUsersUpdated(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUsersUpdated</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUsersUpdated&#8203;(boolean&nbsp;usersUpdated)</pre>
</li>
</ul>
<a id="getDisplays()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDisplays</h4>
<pre class="methodSignature">public&nbsp;java.awt.GraphicsDevice[]&nbsp;getDisplays()</pre>
</li>
</ul>
<a id="setDisplays(java.awt.GraphicsDevice[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDisplays</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDisplays&#8203;(java.awt.GraphicsDevice[]&nbsp;displays)</pre>
</li>
</ul>
<a id="getCurrentDisplay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentDisplay</h4>
<pre class="methodSignature">public&nbsp;java.awt.GraphicsDevice&nbsp;getCurrentDisplay()</pre>
</li>
</ul>
<a id="setCurrentDisplay(java.awt.GraphicsDevice)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCurrentDisplay</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setCurrentDisplay&#8203;(java.awt.GraphicsDevice&nbsp;currentDisplay)</pre>
</li>
</ul>
<a id="isAlertShown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAlertShown</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isAlertShown()</pre>
</li>
</ul>
<a id="setAlertShown(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAlertShown</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAlertShown&#8203;(boolean&nbsp;alertShown)</pre>
</li>
</ul>
<a id="getPeriod()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeriod</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getPeriod()</pre>
</li>
</ul>
<a id="isLocked()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isLocked</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isLocked()</pre>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CurrentSession.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
